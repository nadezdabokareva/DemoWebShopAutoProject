plugins {
    id 'java'
}

group = 'org.example'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

ext {
    stageUrl = "https://demowebshop.tricentis.com/"
}

def environment = project.hasProperty('env') ? project.env : 'stage'
def siteUrl = {
    switch(environment) {
        case 'stage':
            return stageUrl
        default:
            throw new GradleException("Unknown environment: $environment")
    }
}.call()

test {
    useJUnitPlatform()
    systemProperty 'siteUrl', siteUrl  // üëà —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
    testLogging {
        events "passed", "skipped", "failed"
    }
}

dependencies {
    testImplementation platform('org.junit:junit-bom:5.10.0')
    testImplementation 'org.junit.jupiter:junit-jupiter'

    // JUnit 5 ‚Äî —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.10.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.10.0'

    // Selenide ‚Äî UI –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ Selenium
    testImplementation 'com.codeborne:selenide:7.5.1'

    // WebDriver Manager ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç –¥—Ä–∞–π–≤–µ—Ä—ã –±—Ä–∞—É–∑–µ—Ä–æ–≤
    testImplementation 'io.github.bonigarcia:webdrivermanager:5.5.3'

    // –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä SLF4J
    testImplementation 'org.slf4j:slf4j-simple:2.0.7'

    testImplementation 'org.apache.commons:commons-lang3:3.13.0'

}
